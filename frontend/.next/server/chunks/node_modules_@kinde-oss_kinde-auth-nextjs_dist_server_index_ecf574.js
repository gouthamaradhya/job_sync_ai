module.exports = {

"[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/index.js [app-route] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "CreateOrgLink": (()=>rt),
    "LoginLink": (()=>Ye),
    "LogoutLink": (()=>et),
    "RegisterLink": (()=>Xe),
    "createKindeManagementAPIClient": (()=>nt),
    "getKindeServerSession": (()=>Ve),
    "handleAuth": (()=>ft),
    "protectApi": (()=>bt),
    "protectPage": (()=>mt),
    "withAuth": (()=>Je)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde/jwt-decoder/dist/jwt-decoder.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/headers.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookie$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/cookie/dist/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$validator$2f$dist$2f$jwt$2d$validator$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde/jwt-validator/dist/jwt-validator.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$api$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/next/dist/api/navigation.react-server.js [app-route] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/index.js [app-route] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$web$2f$spec$2d$extension$2f$cookies$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/server/web/spec-extension/cookies.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$utilities$2f$validate$2d$client$2d$secret$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/validate-client-secret.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$clients$2f$server$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/clients/server/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/client/components/navigation.react-server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$oauth2$2d$flows$2f$types$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/types.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$utilities$2f$types$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/types.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$runtime$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/runtime.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$UsersApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/UsersApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$OAuthApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/OAuthApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$SubscribersApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/SubscribersApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$OrganizationsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/OrganizationsApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$ConnectedAppsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/ConnectedAppsApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$FeatureFlagsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/FeatureFlagsApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$EnvironmentsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/EnvironmentsApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$PermissionsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/PermissionsApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$RolesApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/RolesApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$BusinessApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/BusinessApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$IndustriesApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/IndustriesApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$TimezonesApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/TimezonesApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$ApplicationsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/ApplicationsApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$CallbacksApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/CallbacksApi.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$APIsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@kinde-oss/kinde-typescript-sdk/dist/apis/APIsApi.js [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
function U(e, t, r) {
    return t = q(t), function(e, t) {
        if (t && ("object" == typeof t || "function" == typeof t)) return t;
        if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");
        return function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e;
        }(e);
    }(e, D() ? Reflect.construct(t, r || [], q(e).constructor) : t.apply(e, r));
}
function D() {
    try {
        var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
    } catch (e) {}
    return (D = function() {
        return !!e;
    })();
}
function I(e, t) {
    var r = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
        var n = Object.getOwnPropertySymbols(e);
        t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })), r.push.apply(r, n);
    }
    return r;
}
function A(e) {
    for(var t = 1; t < arguments.length; t++){
        var r = null != arguments[t] ? arguments[t] : {};
        t % 2 ? I(Object(r), !0).forEach(function(t) {
            F(e, t, r[t]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : I(Object(r)).forEach(function(t) {
            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));
        });
    }
    return e;
}
function T() {
    T = function() {
        return t;
    };
    var e, t = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function(e, t, r) {
        e[t] = r.value;
    }, i = "function" == typeof Symbol ? Symbol : {}, s = i.iterator || "@@iterator", a = i.asyncIterator || "@@asyncIterator", c = i.toStringTag || "@@toStringTag";
    function u(e, t, r) {
        return Object.defineProperty(e, t, {
            value: r,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }), e[t];
    }
    try {
        u({}, "");
    } catch (e) {
        u = function(e, t, r) {
            return e[t] = r;
        };
    }
    function l(e, t, r, n) {
        var i = t && t.prototype instanceof m ? t : m, s = Object.create(i.prototype), a = new D(n || []);
        return o(s, "_invoke", {
            value: O(e, r, a)
        }), s;
    }
    function d(e, t, r) {
        try {
            return {
                type: "normal",
                arg: e.call(t, r)
            };
        } catch (e) {
            return {
                type: "throw",
                arg: e
            };
        }
    }
    t.wrap = l;
    var p = "suspendedStart", f = "suspendedYield", g = "executing", v = "completed", h = {};
    function m() {}
    function b() {}
    function y() {}
    var _ = {};
    u(_, s, function() {
        return this;
    });
    var k = Object.getPrototypeOf, w = k && k(k(I([])));
    w && w !== r && n.call(w, s) && (_ = w);
    var x = y.prototype = m.prototype = Object.create(_);
    function E(e) {
        [
            "next",
            "throw",
            "return"
        ].forEach(function(t) {
            u(e, t, function(e) {
                return this._invoke(t, e);
            });
        });
    }
    function R(e, t) {
        function r(o, i, s, a) {
            var c = d(e[o], e, i);
            if ("throw" !== c.type) {
                var u = c.arg, l = u.value;
                return l && "object" == typeof l && n.call(l, "__await") ? t.resolve(l.__await).then(function(e) {
                    r("next", e, s, a);
                }, function(e) {
                    r("throw", e, s, a);
                }) : t.resolve(l).then(function(e) {
                    u.value = e, s(u);
                }, function(e) {
                    return r("throw", e, s, a);
                });
            }
            a(c.arg);
        }
        var i;
        o(this, "_invoke", {
            value: function(e, n) {
                function o() {
                    return new t(function(t, o) {
                        r(e, n, t, o);
                    });
                }
                return i = i ? i.then(o, o) : o();
            }
        });
    }
    function O(t, r, n) {
        var o = p;
        return function(i, s) {
            if (o === g) throw Error("Generator is already running");
            if (o === v) {
                if ("throw" === i) throw s;
                return {
                    value: e,
                    done: !0
                };
            }
            for(n.method = i, n.arg = s;;){
                var a = n.delegate;
                if (a) {
                    var c = L(a, n);
                    if (c) {
                        if (c === h) continue;
                        return c;
                    }
                }
                if ("next" === n.method) n.sent = n._sent = n.arg;
                else if ("throw" === n.method) {
                    if (o === p) throw o = v, n.arg;
                    n.dispatchException(n.arg);
                } else "return" === n.method && n.abrupt("return", n.arg);
                o = g;
                var u = d(t, r, n);
                if ("normal" === u.type) {
                    if (o = n.done ? v : f, u.arg === h) continue;
                    return {
                        value: u.arg,
                        done: n.done
                    };
                }
                "throw" === u.type && (o = v, n.method = "throw", n.arg = u.arg);
            }
        };
    }
    function L(t, r) {
        var n = r.method, o = t.iterator[n];
        if (o === e) return r.delegate = null, "throw" === n && t.iterator.return && (r.method = "return", r.arg = e, L(t, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), h;
        var i = d(o, t.iterator, r.arg);
        if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, h;
        var s = i.arg;
        return s ? s.done ? (r[t.resultName] = s.value, r.next = t.nextLoc, "return" !== r.method && (r.method = "next", r.arg = e), r.delegate = null, h) : s : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, h);
    }
    function S(e) {
        var t = {
            tryLoc: e[0]
        };
        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);
    }
    function U(e) {
        var t = e.completion || {};
        t.type = "normal", delete t.arg, e.completion = t;
    }
    function D(e) {
        this.tryEntries = [
            {
                tryLoc: "root"
            }
        ], e.forEach(S, this), this.reset(!0);
    }
    function I(t) {
        if (t || "" === t) {
            var r = t[s];
            if (r) return r.call(t);
            if ("function" == typeof t.next) return t;
            if (!isNaN(t.length)) {
                var o = -1, i = function r() {
                    for(; ++o < t.length;)if (n.call(t, o)) return r.value = t[o], r.done = !1, r;
                    return r.value = e, r.done = !0, r;
                };
                return i.next = i;
            }
        }
        throw new TypeError(typeof t + " is not iterable");
    }
    return b.prototype = y, o(x, "constructor", {
        value: y,
        configurable: !0
    }), o(y, "constructor", {
        value: b,
        configurable: !0
    }), b.displayName = u(y, c, "GeneratorFunction"), t.isGeneratorFunction = function(e) {
        var t = "function" == typeof e && e.constructor;
        return !!t && (t === b || "GeneratorFunction" === (t.displayName || t.name));
    }, t.mark = function(e) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(e, y) : (e.__proto__ = y, u(e, c, "GeneratorFunction")), e.prototype = Object.create(x), e;
    }, t.awrap = function(e) {
        return {
            __await: e
        };
    }, E(R.prototype), u(R.prototype, a, function() {
        return this;
    }), t.AsyncIterator = R, t.async = function(e, r, n, o, i) {
        void 0 === i && (i = Promise);
        var s = new R(l(e, r, n, o), i);
        return t.isGeneratorFunction(r) ? s : s.next().then(function(e) {
            return e.done ? e.value : s.next();
        });
    }, E(x), u(x, c, "Generator"), u(x, s, function() {
        return this;
    }), u(x, "toString", function() {
        return "[object Generator]";
    }), t.keys = function(e) {
        var t = Object(e), r = [];
        for(var n in t)r.push(n);
        return r.reverse(), function e() {
            for(; r.length;){
                var n = r.pop();
                if (n in t) return e.value = n, e.done = !1, e;
            }
            return e.done = !0, e;
        };
    }, t.values = I, D.prototype = {
        constructor: D,
        reset: function(t) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = "next", this.arg = e, this.tryEntries.forEach(U), !t) for(var r in this)"t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = e);
        },
        stop: function() {
            this.done = !0;
            var e = this.tryEntries[0].completion;
            if ("throw" === e.type) throw e.arg;
            return this.rval;
        },
        dispatchException: function(t) {
            if (this.done) throw t;
            var r = this;
            function o(n, o) {
                return a.type = "throw", a.arg = t, r.next = n, o && (r.method = "next", r.arg = e), !!o;
            }
            for(var i = this.tryEntries.length - 1; i >= 0; --i){
                var s = this.tryEntries[i], a = s.completion;
                if ("root" === s.tryLoc) return o("end");
                if (s.tryLoc <= this.prev) {
                    var c = n.call(s, "catchLoc"), u = n.call(s, "finallyLoc");
                    if (c && u) {
                        if (this.prev < s.catchLoc) return o(s.catchLoc, !0);
                        if (this.prev < s.finallyLoc) return o(s.finallyLoc);
                    } else if (c) {
                        if (this.prev < s.catchLoc) return o(s.catchLoc, !0);
                    } else {
                        if (!u) throw Error("try statement without catch or finally");
                        if (this.prev < s.finallyLoc) return o(s.finallyLoc);
                    }
                }
            }
        },
        abrupt: function(e, t) {
            for(var r = this.tryEntries.length - 1; r >= 0; --r){
                var o = this.tryEntries[r];
                if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                    var i = o;
                    break;
                }
            }
            i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null);
            var s = i ? i.completion : {};
            return s.type = e, s.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, h) : this.complete(s);
        },
        complete: function(e, t) {
            if ("throw" === e.type) throw e.arg;
            return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), h;
        },
        finish: function(e) {
            for(var t = this.tryEntries.length - 1; t >= 0; --t){
                var r = this.tryEntries[t];
                if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), U(r), h;
            }
        },
        catch: function(e) {
            for(var t = this.tryEntries.length - 1; t >= 0; --t){
                var r = this.tryEntries[t];
                if (r.tryLoc === e) {
                    var n = r.completion;
                    if ("throw" === n.type) {
                        var o = n.arg;
                        U(r);
                    }
                    return o;
                }
            }
            throw Error("illegal catch attempt");
        },
        delegateYield: function(t, r, n) {
            return this.delegate = {
                iterator: I(t),
                resultName: r,
                nextLoc: n
            }, "next" === this.method && (this.arg = e), h;
        }
    }, t;
}
function P(e) {
    var t = function(e, t) {
        if ("object" != typeof e || !e) return e;
        var r = e[Symbol.toPrimitive];
        if (void 0 !== r) {
            var n = r.call(e, t || "default");
            if ("object" != typeof n) return n;
            throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (("TURBOPACK compile-time truthy", 1) ? String : ("TURBOPACK unreachable", undefined))(e);
    }(e, "string");
    return "symbol" == typeof t ? t : t + "";
}
function j(e) {
    return j = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e;
    } : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
    }, j(e);
}
function M(e, t, r, n, o, i, s) {
    try {
        var a = e[i](s), c = a.value;
    } catch (e) {
        return void r(e);
    }
    a.done ? t(c) : Promise.resolve(c).then(n, o);
}
function C(e) {
    return function() {
        var t = this, r = arguments;
        return new Promise(function(n, o) {
            var i = e.apply(t, r);
            function s(e) {
                M(i, n, o, s, a, "next", e);
            }
            function a(e) {
                M(i, n, o, s, a, "throw", e);
            }
            s(void 0);
        });
    };
}
function N(e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function K(e, t) {
    for(var r = 0; r < t.length; r++){
        var n = t[r];
        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, P(n.key), n);
    }
}
function z(e, t, r) {
    return t && K(e.prototype, t), r && K(e, r), Object.defineProperty(e, "prototype", {
        writable: !1
    }), e;
}
function F(e, t, r) {
    return (t = P(t)) in e ? Object.defineProperty(e, t, {
        value: r,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = r, e;
}
function G() {
    return G = ("TURBOPACK compile-time truthy", 1) ? Object.assign.bind() : ("TURBOPACK unreachable", undefined), G.apply(this, arguments);
}
function H(e, t) {
    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            writable: !0,
            configurable: !0
        }
    }), Object.defineProperty(e, "prototype", {
        writable: !1
    }), t && V(e, t);
}
function q(e) {
    return q = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
        return e.__proto__ || Object.getPrototypeOf(e);
    }, q(e);
}
function V(e, t) {
    return V = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
        return e.__proto__ = t, e;
    }, V(e, t);
}
function W(e, t) {
    if (null == e) return {};
    var r, n, o = function(e, t) {
        if (null == e) return {};
        var r, n, o = {}, i = Object.keys(e);
        for(n = 0; n < i.length; n++)r = i[n], t.indexOf(r) >= 0 || (o[r] = e[r]);
        return o;
    }(e, t);
    if (Object.getOwnPropertySymbols) {
        var i = Object.getOwnPropertySymbols(e);
        for(n = 0; n < i.length; n++)r = i[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]);
    }
    return o;
}
function B(e) {
    return function(e) {
        if (Array.isArray(e)) return J(e);
    }(e) || function(e) {
        if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e);
    }(e) || function(e, t) {
        if (!e) return;
        if ("string" == typeof e) return J(e, t);
        var r = Object.prototype.toString.call(e).slice(8, -1);
        "Object" === r && e.constructor && (r = e.constructor.name);
        if ("Map" === r || "Set" === r) return Array.from(e);
        if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return J(e, t);
    }(e) || function() {
        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
}
function J(e, t) {
    (null == t || t > e.length) && (t = e.length);
    for(var r = 0, n = new Array(t); r < t; r++)n[r] = e[r];
    return n;
}
var Z = function() {
    return Z = Object.assign || function(e) {
        for(var t, r = 1, n = arguments.length; r < n; r++)for(var o in t = arguments[r])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        return e;
    }, Z.apply(this, arguments);
};
function X(e, t, r, n) {
    return new (r || (r = Promise))(function(o, i) {
        function s(e) {
            try {
                c(n.next(e));
            } catch (e) {
                i(e);
            }
        }
        function a(e) {
            try {
                c(n.throw(e));
            } catch (e) {
                i(e);
            }
        }
        function c(e) {
            var t;
            e.done ? o(e.value) : (t = e.value, t instanceof r ? t : new r(function(e) {
                e(t);
            })).then(s, a);
        }
        c((n = n.apply(e, t || [])).next());
    });
}
function $(e, t) {
    var r, n, o, i, s = {
        label: 0,
        sent: function() {
            if (1 & o[0]) throw o[1];
            return o[1];
        },
        trys: [],
        ops: []
    };
    return i = {
        next: a(0),
        throw: a(1),
        return: a(2)
    }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
        return this;
    }), i;
    "TURBOPACK unreachable";
    function a(a) {
        return function(c) {
            return function(a) {
                if (r) throw new TypeError("Generator is already executing.");
                for(; i && (i = 0, a[0] && (s = 0)), s;)try {
                    if (r = 1, n && (o = 2 & a[0] ? n.return : a[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, a[1])).done) return o;
                    switch(n = 0, o && (a = [
                        2 & a[0],
                        o.value
                    ]), a[0]){
                        case 0:
                        case 1:
                            o = a;
                            break;
                        case 4:
                            return s.label++, {
                                value: a[1],
                                done: !1
                            };
                        case 5:
                            s.label++, n = a[1], a = [
                                0
                            ];
                            continue;
                        case 7:
                            a = s.ops.pop(), s.trys.pop();
                            continue;
                        default:
                            if (!(o = s.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                                s = 0;
                                continue;
                            }
                            if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                s.label = a[1];
                                break;
                            }
                            if (6 === a[0] && s.label < o[1]) {
                                s.label = o[1], o = a;
                                break;
                            }
                            if (o && s.label < o[2]) {
                                s.label = o[2], s.ops.push(a);
                                break;
                            }
                            o[2] && s.ops.pop(), s.trys.pop();
                            continue;
                    }
                    a = t.call(e, s);
                } catch (e) {
                    a = [
                        6,
                        e
                    ], n = 0;
                } finally{
                    r = o = 0;
                }
                if (5 & a[0]) throw a[1];
                return {
                    value: a[0] ? a[1] : void 0,
                    done: !0
                };
            }([
                a,
                c
            ]);
        };
    }
}
function Y(e, t, r) {
    if (r || 2 === arguments.length) for(var n, o = 0, i = t.length; o < i; o++)!n && o in t || (n || (n = Array.prototype.slice.call(t, 0, o)), n[o] = t[o]);
    return e.concat(n || Array.prototype.slice.call(t));
}
"function" == typeof SuppressedError && SuppressedError;
function Q(e) {
    if (null != e) return (e = e.trim()).endsWith("/") && (e = e.slice(0, -1)), e;
}
var ee = Q(process.env.KINDE_SITE_URL), te = process.env.KINDE_POST_LOGIN_ALLOWED_URL_REGEX, re = Q(process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH) || Q(process.env.KINDE_AUTH_API_PATH) || "/api/auth", ne = Q(process.env.KINDE_POST_LOGIN_REDIRECT_URL) || Q(process.env.KINDE_POST_LOGIN_URL_REDIRECT_URL), oe = Q(process.env.KINDE_POST_LOGOUT_REDIRECT_URL), ie = Q(process.env.KINDE_ISSUER_URL), se = process.env.KINDE_CLIENT_ID, ae = process.env.KINDE_CLIENT_SECRET, ce = process.env.KINDE_AUDIENCE, ue = Q(process.env.KINDE_COOKIE_DOMAIN), le = process.env.KINDE_SCOPE || "openid profile email offline", de = {
    isDebugMode: "true" === process.env.KINDE_DEBUG_MODE,
    apiPath: re,
    initialState: {
        accessToken: null,
        idToken: null,
        isAuthenticated: !1,
        isLoading: !0,
        organization: null,
        permissions: [],
        user: null,
        userOrganizations: [],
        getAccessToken: function() {
            return null;
        },
        getBooleanFlag: function() {
            return null;
        },
        getClaim: function() {
            return null;
        },
        getFlag: function() {
            return null;
        },
        getIdToken: function() {
            return null;
        },
        getIntegerFlag: function() {
            return null;
        },
        getOrganization: function() {
            return null;
        },
        getPermission: function() {
            return null;
        },
        getPermissions: function() {
            return [];
        },
        getStringFlag: function() {
            return null;
        },
        getToken: function() {
            return null;
        },
        getUser: function() {
            return null;
        },
        getUserOrganizations: function() {
            return null;
        },
        refreshData: function() {
            return null;
        }
    },
    SESSION_PREFIX: "pkce-verifier",
    redirectURL: ee,
    postLoginRedirectURL: ne,
    postLoginAllowedURLRegex: te,
    issuerURL: ie,
    clientID: se,
    clientSecret: ae,
    postLogoutRedirectURL: oe,
    audience: ce ? ce.split(" ") : "",
    cookieDomain: ue,
    responseType: "code",
    codeChallengeMethod: "S256",
    redirectRoutes: {
        callback: "".concat(re, "/kinde_callback")
    },
    issuerRoutes: {
        logout: "/logout",
        login: "/oauth2/auth",
        register: "/oauth2/auth",
        token: "/oauth2/token",
        profile: "/oauth2/v2/user_profile"
    },
    clientOptions: {
        audience: ce ? ce.split(" ") : "",
        authDomain: ie || "",
        clientId: se || "",
        clientSecret: ae || "",
        logoutRedirectURL: oe || "",
        redirectURL: "".concat(ee).concat(re, "/kinde_callback"),
        frameworkVersion: "2.5.3",
        scope: le
    },
    grantType: "AUTHORIZATION_CODE"
}, pe = function(e) {
    return e && /^[a-zA-Z0-9_-]+$/.test(e) ? e : null;
}, fe = {
    login: pe(process.env.KINDE_AUTH_LOGIN_ROUTE) || "login",
    logout: pe(process.env.KINDE_AUTH_LOGOUT_ROUTE) || "logout",
    register: pe(process.env.KINDE_AUTH_REGISTER_ROUTE) || "register",
    createOrg: pe(process.env.KINDE_AUTH_CREATEORG_ROUTE) || "create_org",
    health: pe(process.env.KINDE_AUTH_HEALTH_ROUTE) || "health",
    setup: pe(process.env.KINDE_AUTH_SETUP_ROUTE) || "setup"
}, ge = function(e) {
    return e instanceof Request;
}, ve = 2505600, he = {
    sameSite: "lax",
    httpOnly: !0,
    secure: "production" === ("TURBOPACK compile-time value", "development"),
    path: "/"
}, me = [
    "ac-state-key",
    "id_token_payload",
    "id_token",
    "access_token_payload",
    "access_token",
    "user",
    "refresh_token",
    "post_login_redirect_url"
], be = 3e3, ye = function(e, t) {
    return t <= 0 ? [] : e.match(new RegExp(".{1,".concat(t, "}"), "g")) || [];
}, _e = function() {
    var e = C(T().mark(function e(r, n) {
        var o, i;
        return T().wrap(function(e) {
            for(;;)switch(e.prev = e.next){
                case 0:
                    if (e.prev = 0, r) {
                        e.next = 6;
                        break;
                    }
                    return e.next = 4, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["cookies"])();
                case 4:
                    return o = e.sent, e.abrupt("return", ke(o));
                case 6:
                    if (!ge(r)) {
                        e.next = 13;
                        break;
                    }
                    return e.next = 9, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["cookies"])(r, n);
                case 9:
                    return i = e.sent, e.abrupt("return", ke(i));
                case 13:
                    return e.abrupt("return", we(r, n));
                case 14:
                    e.next = 19;
                    break;
                case 16:
                    throw e.prev = 16, e.t0 = e.catch(0), e.t0;
                case 19:
                case "end":
                    return e.stop();
            }
        }, e, null, [
            [
                0,
                16
            ]
        ]);
    }));
    return function(t, r) {
        return e.apply(this, arguments);
    };
}(), ke = function(e) {
    return {
        getSessionItem: function(t) {
            var r = e.get(t);
            if (!r) return null;
            try {
                for(var n = "", o = 0, i = "".concat(String(t)).concat(0 === o ? "" : o); e.has(i);)n += e.get(i).value, o++, i = "".concat(String(t)).concat(0 === o ? "" : o);
                try {
                    var s = JSON.parse(n);
                    if ("object" === j(s)) return s;
                } catch (e) {}
                return n;
            } catch (e) {
                return de.isDebugMode && console.error("Failed to parse session item app router:", e), r.value;
            }
        },
        setSessionItem: function(t, r) {
            if (e.getAll().map(function(e) {
                return e.name;
            }).forEach(function(r) {
                r.startsWith("".concat(String(t))) && e.delete(r);
            }), void 0 !== r) {
                var n = "object" === j(r) ? JSON.stringify(r) : r;
                ye(n, be).forEach(function(r, n) {
                    e.set(t + (0 === n ? "" : n), r, A({
                        maxAge: ve,
                        domain: de.cookieDomain ? de.cookieDomain : void 0
                    }, he));
                });
            }
        },
        removeSessionItem: function(t) {
            e.getAll().map(function(e) {
                return e.name;
            }).forEach(function(r) {
                r.startsWith("".concat(String(t))) && e.delete(r);
            });
        },
        destroySession: function() {
            e.getAll().map(function(e) {
                return e.name;
            }).forEach(function(t) {
                me.some(function(e) {
                    return t.startsWith(e);
                }) && e.set(t, "", A({
                    domain: de.cookieDomain ? de.cookieDomain : void 0,
                    maxAge: 0
                }, he));
            });
        }
    };
}, we = function(e, t) {
    return {
        getSessionItem: function(t) {
            var r = e.cookies[t];
            if (r) try {
                for(var n = "", o = 0, i = "".concat(String(t)).concat(0 === o ? "" : o); e.cookies[i];)n += e.cookies[i], o++, i = "".concat(String(t)).concat(0 === o ? "" : o);
                try {
                    var s = JSON.parse(n);
                    if ("object" === j(s)) return s;
                } catch (e) {
                    de.isDebugMode && console.error("Failed to parse session item:", e);
                }
                return n;
            } catch (e) {
                return de.isDebugMode && console.error("Failed to read session item:", e), r;
            }
        },
        setSessionItem: function(n, o) {
            var i = (null == t ? void 0 : t.getHeader("Set-Cookie")) || [];
            if (Array.isArray(i) || (i = [
                i.toString()
            ]), void 0 !== e.cookies[n] && i.push(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookie$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].serialize(n, "", A({
                domain: de.cookieDomain ? de.cookieDomain : void 0,
                maxAge: -1
            }, he))), void 0 !== o) {
                var s = "object" === j(o) ? JSON.stringify(o) : o;
                null == t || t.setHeader("Set-Cookie", [].concat(B(i.filter(function(e) {
                    return !e.startsWith("".concat(n));
                }) || []), B(ye(s, be).map(function(e, t) {
                    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookie$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].serialize(n + (0 === t ? "" : t), e, A(A({
                        domain: de.cookieDomain ? de.cookieDomain : void 0
                    }, he), {}, {
                        maxAge: ve
                    }));
                }))), A(A({
                    domain: de.cookieDomain ? de.cookieDomain : void 0
                }, he), {}, {
                    maxAge: ve
                }));
            }
        },
        removeSessionItem: function(n) {
            var o = (null == t ? void 0 : t.getHeader("Set-Cookie")) || [];
            Array.isArray(o) || (o = [
                o.toString()
            ]), void 0 !== e.cookies[n] && o.push(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookie$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].serialize(n, "", A({
                domain: de.cookieDomain ? de.cookieDomain : void 0,
                maxAge: -1
            }, he))), null == t || t.setHeader("Set-Cookie", B(o.map(function(e) {
                return e.startsWith("".concat(n)) ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookie$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].serialize(e.split("=")[0], "", A({
                    domain: de.cookieDomain ? de.cookieDomain : void 0,
                    maxAge: -1
                }, he)) : e;
            })));
        },
        destroySession: function() {
            var n = (null == t ? void 0 : t.getHeader("Set-Cookie")) || [];
            Array.isArray(n) || (n = [
                n.toString()
            ]), null == t || t.setHeader("Set-Cookie", B(Object.keys(e.cookies).map(function(e) {
                if (me.some(function(t) {
                    return e.startsWith(t);
                })) return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookie$2f$dist$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].serialize(e.split("=")[0], "", A({
                    domain: de.cookieDomain ? de.cookieDomain : void 0,
                    maxAge: -1
                }, he));
            })));
        }
    };
}, xe = function(t) {
    var r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(t);
    return !(null == r ? void 0 : r.exp) || r.exp && r.exp < Date.now() / 1e3;
}, Ee = function(t) {
    return X(void 0, [
        t
    ], void 0, function(t) {
        var r, o = t.token;
        return $(this, function(t) {
            switch(t.label){
                case 0:
                    return o && "string" == typeof o ? [
                        4,
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$validator$2f$dist$2f$jwt$2d$validator$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["validateToken"])({
                            token: o,
                            domain: de.issuerURL
                        })
                    ] : (de.isDebugMode && console.error("validateToken: invalid token or token is missing"), [
                        2,
                        !1
                    ]);
                case 1:
                    return t.sent().valid ? (r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(o), de.isDebugMode && console.log("validateToken: token is valid - it will expire in ".concat(r.exp - Date.now() / 1e3, " seconds")), r.iss !== de.issuerURL ? (de.isDebugMode && console.error("validateToken: invalid issuer"), [
                        2,
                        !1
                    ]) : [
                        2,
                        !0
                    ]) : (de.isDebugMode && console.error("validateToken: invalid token"), [
                        2,
                        !1
                    ]);
            }
        });
    });
}, Re = function(e, t) {
    return X(void 0, void 0, void 0, function() {
        var r, n;
        return $(this, function(o) {
            switch(o.label){
                case 0:
                    return o.trys.push([
                        0,
                        4,
                        ,
                        5
                    ]), [
                        4,
                        _e(e, t)
                    ];
                case 1:
                    return [
                        4,
                        o.sent().getSessionItem("access_token")
                    ];
                case 2:
                    return (r = o.sent()) && "string" == typeof r ? [
                        4,
                        Ee({
                            token: r
                        })
                    ] : (de.isDebugMode && console.warn("getAccessToken: invalid token or token is missing (are you logged in?)"), [
                        2,
                        null
                    ]);
                case 3:
                    return o.sent() ? [
                        2,
                        r
                    ] : (de.isDebugMode && console.error("getAccessToken: invalid token"), [
                        2,
                        null
                    ]);
                case 4:
                    return n = o.sent(), de.isDebugMode && console.error("getAccessToken", n), [
                        2,
                        null
                    ];
                case 5:
                    return [
                        2
                    ];
            }
        });
    });
}, Oe = function(e) {
    de.isDebugMode && console.log("redirectOnExpiredToken: checking for expired token"), e ? xe(e) ? (de.isDebugMode && console.log("redirectOnExpiredToken: token is defined and expired, redirecting"), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["redirect"])("".concat(de.apiPath, "/").concat(fe.login))) : de.isDebugMode && console.log("redirectOnExpiredToken: token is not expired, not redirecting") : de.isDebugMode && console.log("redirectOnExpiredToken: no token, not redirecting");
}, Le = function(t, r) {
    return C(T().mark(function n() {
        var o;
        return T().wrap(function(n) {
            for(;;)switch(n.prev = n.next){
                case 0:
                    return n.prev = 0, n.next = 3, Re(t, r);
                case 3:
                    return o = n.sent, de.isDebugMode && console.log("getAccessTokenFactory: running redirectOnExpiredToken check"), Oe(o), n.abrupt("return", (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(o));
                case 9:
                    return n.prev = 9, n.t0 = n.catch(0), de.isDebugMode && console.error(n.t0), n.abrupt("return", null);
                case 13:
                case "end":
                    return n.stop();
            }
        }, n, null, [
            [
                0,
                9
            ]
        ]);
    }));
}, Se = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$clients$2f$server$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createKindeServerClient"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$oauth2$2d$flows$2f$types$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["GrantType"].AUTHORIZATION_CODE, de.clientOptions), Ue = function(e, t) {
    return function() {
        var e = C(T().mark(function e(t, r, n) {
            var o, i, s, c, u, l, d, p;
            return T().wrap(function(e) {
                for(;;)switch(e.prev = e.next){
                    case 0:
                        return e.prev = 0, e.next = 3, Se.getClaimValue(_e, "feature_flags", "access_token");
                    case 3:
                        return s = e.sent, e.next = 6, Se.getClaimValue(_e, "x-hasura-feature-flags", "access_token");
                    case 6:
                        if (c = e.sent, u = A(A({}, s), c), (l = u[t]) || void 0 !== r) {
                            e.next = 11;
                            break;
                        }
                        throw new Error("Flag ".concat(t, " was not found, and no default value has been provided"));
                    case 11:
                        if (null == l || !l.t || !n || n === (null == l ? void 0 : l.t)) {
                            e.next = 13;
                            break;
                        }
                        throw new Error("Flag ".concat(t, " is of type ").concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$utilities$2f$types$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FlagDataType"][l.t], ", expected type is ").concat(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$utilities$2f$types$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FlagDataType"][n]));
                    case 13:
                        return d = void 0 === (null == l ? void 0 : l.v), p = {
                            is_default: d,
                            value: null !== (o = null == l ? void 0 : l.v) && void 0 !== o ? o : r,
                            code: t,
                            type: !!d && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$utilities$2f$types$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FlagDataType"][null !== (i = null == l ? void 0 : l.t) && void 0 !== i ? i : n],
                            defaultValue: r
                        }, e.abrupt("return", p);
                    case 18:
                        if (e.prev = 18, e.t0 = e.catch(0), !e.t0.message.includes("no default value has been provided")) {
                            e.next = 22;
                            break;
                        }
                        throw e.t0;
                    case 22:
                        return e.abrupt("return", {
                            value: r
                        });
                    case 23:
                    case "end":
                        return e.stop();
                }
            }, e, null, [
                [
                    0,
                    18
                ]
            ]);
        }));
        return function(t, r, n) {
            return e.apply(this, arguments);
        };
    }();
}, De = function(e, t) {
    return X(void 0, void 0, void 0, function() {
        var r, n, o;
        return $(this, function(i) {
            switch(i.label){
                case 0:
                    r = "id_token", i.label = 1;
                case 1:
                    return i.trys.push([
                        1,
                        5,
                        ,
                        6
                    ]), [
                        4,
                        _e(e, t)
                    ];
                case 2:
                    return [
                        4,
                        i.sent().getSessionItem(r)
                    ];
                case 3:
                    return (n = i.sent()) && "string" == typeof n ? [
                        4,
                        Ee({
                            token: n
                        })
                    ] : (de.isDebugMode && console.warn("getIdToken: invalid token or token is missing (are you logged in?)"), [
                        2,
                        null
                    ]);
                case 4:
                    return i.sent() ? [
                        2,
                        n
                    ] : (de.isDebugMode && console.error("getIdToken: invalid token"), [
                        2,
                        null
                    ]);
                case 5:
                    return o = i.sent(), de.isDebugMode && console.error("getIdToken", o), [
                        2,
                        null
                    ];
                case 6:
                    return [
                        2
                    ];
            }
        });
    });
}, Ie = function(t, r) {
    return C(T().mark(function n() {
        var o;
        return T().wrap(function(n) {
            for(;;)switch(n.prev = n.next){
                case 0:
                    return n.prev = 0, n.next = 3, De(t, r);
                case 3:
                    return o = n.sent, de.isDebugMode && console.log("getIdTokenFactory: running redirectOnExpiredToken check"), Oe(o), n.abrupt("return", (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(o));
                case 9:
                    return n.prev = 9, n.t0 = n.catch(0), de.isDebugMode && console.error(n.t0), n.abrupt("return", null);
                case 13:
                case "end":
                    return n.stop();
            }
        }, n, null, [
            [
                0,
                9
            ]
        ]);
    }));
}, Ae = function(e, t, r) {
    var n, o, i = t.organization_properties || t["x-hasura-organization_properties"] || {}, s = r.organization_properties || r["x-hasura-organization_properties"] || {}, a = null === (n = i["kp_org_".concat(e)]) || void 0 === n ? void 0 : n.v, c = null === (o = s["kp_org_".concat(e)]) || void 0 === o ? void 0 : o.v;
    return a || c;
}, Te = function(e, t) {
    var r = t.org_code || t["x-hasura-org-code"], n = t.org_name || t["x-hasura-org-name"];
    if (!r) throw new Error("Missing required organization fields in access token");
    return {
        orgCode: r,
        orgName: n,
        properties: {
            city: Ae("city", e, t),
            industry: Ae("industry", e, t),
            postcode: Ae("postcode", e, t),
            state_region: Ae("state_region", e, t),
            street_address: Ae("street_address", e, t),
            street_address_2: Ae("street_address_2", e, t)
        }
    };
}, Pe = function(t, r) {
    return function() {
        return X(void 0, void 0, void 0, function() {
            var n, o, i, s, a;
            return $(this, function(c) {
                switch(c.label){
                    case 0:
                        return c.trys.push([
                            0,
                            4,
                            ,
                            5
                        ]), [
                            4,
                            _e(t, r)
                        ];
                    case 1:
                        return [
                            4,
                            c.sent().getSessionItem("id_token")
                        ];
                    case 2:
                        if (!(n = c.sent())) throw new Error("ID token is missing");
                        return o = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(n), [
                            4,
                            Re(t, r)
                        ];
                    case 3:
                        return i = c.sent(), s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(i), [
                            2,
                            Te(o, s)
                        ];
                    case 4:
                        return a = c.sent(), de.isDebugMode && console.error(a), [
                            2,
                            null
                        ];
                    case 5:
                        return [
                            2
                        ];
                }
            });
        });
    };
}, je = function(e, t) {
    return function() {
        var r = C(T().mark(function r(n) {
            var o;
            return T().wrap(function(r) {
                for(;;)switch(r.prev = r.next){
                    case 0:
                        return r.prev = 0, r.t0 = Se, r.next = 4, _e(e, t);
                    case 4:
                        return r.t1 = r.sent, r.t2 = n, r.next = 8, r.t0.getPermission.call(r.t0, r.t1, r.t2);
                    case 8:
                        if ((o = r.sent).isGranted) {
                            r.next = 19;
                            break;
                        }
                        return r.t3 = Se, r.next = 13, _e(e, t);
                    case 13:
                        return r.t4 = r.sent, r.next = 16, r.t3.getClaimValue.call(r.t3, r.t4, "x-hasura-permissions");
                    case 16:
                        if (!r.sent.includes(n)) {
                            r.next = 19;
                            break;
                        }
                        return r.abrupt("return", {
                            isGranted: !0,
                            orgCode: o.orgCode
                        });
                    case 19:
                        return r.abrupt("return", o);
                    case 22:
                        return r.prev = 22, r.t5 = r.catch(0), de.isDebugMode && console.error(r.t5), r.abrupt("return", null);
                    case 26:
                    case "end":
                        return r.stop();
                }
            }, r, null, [
                [
                    0,
                    22
                ]
            ]);
        }));
        return function(e) {
            return r.apply(this, arguments);
        };
    }();
}, Me = function(e, t) {
    return C(T().mark(function r() {
        var n, o;
        return T().wrap(function(r) {
            for(;;)switch(r.prev = r.next){
                case 0:
                    return r.prev = 0, r.t0 = Se, r.next = 4, _e(e, t);
                case 4:
                    return r.t1 = r.sent, r.next = 7, r.t0.getPermissions.call(r.t0, r.t1);
                case 7:
                    if ((n = r.sent).permissions) {
                        r.next = 25;
                        break;
                    }
                    return r.t2 = Se, r.next = 12, _e(e, t);
                case 12:
                    return r.t3 = r.sent, r.next = 15, r.t2.getClaimValue.call(r.t2, r.t3, "x-hasura-permissions");
                case 15:
                    return o = r.sent, r.t4 = o, r.t5 = Se, r.next = 20, _e(e, t);
                case 20:
                    return r.t6 = r.sent, r.next = 23, r.t5.getClaimValue.call(r.t5, r.t6, "x-hasura-org-code");
                case 23:
                    return r.t7 = r.sent, r.abrupt("return", {
                        permissions: r.t4,
                        orgCode: r.t7
                    });
                case 25:
                    return r.abrupt("return", n);
                case 28:
                    return r.prev = 28, r.t8 = r.catch(0), de.isDebugMode && console.error(r.t8), r.abrupt("return", null);
                case 32:
                case "end":
                    return r.stop();
            }
        }, r, null, [
            [
                0,
                28
            ]
        ]);
    }));
}, Ce = function(e, t) {
    var r = {
        id: e.sub,
        email: e.email,
        family_name: e.family_name,
        given_name: e.given_name,
        picture: e.picture,
        username: e.preferred_username,
        phone_number: e.phone_number
    }, n = r, o = e.user_properties || t.user_properties;
    if (o) {
        var i = o.kp_usr_city, s = o.kp_usr_industry, a = o.kp_usr_is_marketing_opt_in, c = o.kp_usr_job_title, u = o.kp_usr_middle_name, l = o.kp_usr_postcode, d = o.kp_usr_salutation, p = o.kp_usr_state_region, f = o.kp_usr_street_address, g = o.kp_usr_street_address_2, v = function(e, t) {
            var r = {};
            for(var n in e)Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                var o = 0;
                for(n = Object.getOwnPropertySymbols(e); o < n.length; o++)t.indexOf(n[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[o]) && (r[n[o]] = e[n[o]]);
            }
            return r;
        }(o, [
            "kp_usr_city",
            "kp_usr_industry",
            "kp_usr_is_marketing_opt_in",
            "kp_usr_job_title",
            "kp_usr_middle_name",
            "kp_usr_postcode",
            "kp_usr_salutation",
            "kp_usr_state_region",
            "kp_usr_street_address",
            "kp_usr_street_address_2"
        ]), h = Object.keys(v).reduce(function(e, t) {
            var r;
            return e[t] = null === (r = v[t]) || void 0 === r ? void 0 : r.v, e;
        }, {});
        n = Z(Z({}, r), {
            properties: Z({
                city: null == i ? void 0 : i.v,
                industry: null == s ? void 0 : s.v,
                is_marketing_opt_in: null == a ? void 0 : a.v,
                job_title: null == c ? void 0 : c.v,
                middle_name: null == u ? void 0 : u.v,
                postcode: null == l ? void 0 : l.v,
                salutation: null == d ? void 0 : d.v,
                state_region: null == p ? void 0 : p.v,
                street_address: null == f ? void 0 : f.v,
                street_address_2: null == g ? void 0 : g.v
            }, h)
        });
    }
    return n;
}, Ne = function(t, r) {
    return function() {
        return X(void 0, void 0, void 0, function() {
            var n, o, i, s, a;
            return $(this, function(c) {
                switch(c.label){
                    case 0:
                        return c.trys.push([
                            0,
                            3,
                            ,
                            4
                        ]), [
                            4,
                            De(t, r)
                        ];
                    case 1:
                        return (n = c.sent()) ? (o = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(n), [
                            4,
                            Re(t, r)
                        ]) : [
                            2,
                            null
                        ];
                    case 2:
                        return (i = c.sent()) ? (s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(i), [
                            2,
                            Ce(o, s)
                        ]) : [
                            2,
                            null
                        ];
                    case 3:
                        return a = c.sent(), de.isDebugMode && console.debug("getUser", a), [
                            2,
                            null
                        ];
                    case 4:
                        return [
                            2
                        ];
                }
            });
        });
    };
}, Ke = function(e, t) {
    return function() {
        return X(void 0, void 0, void 0, function() {
            var r, n, o, i, s, a, c, u, l;
            return $(this, function(d) {
                switch(d.label){
                    case 0:
                        return d.trys.push([
                            0,
                            6,
                            ,
                            7
                        ]), [
                            4,
                            _e(e, t)
                        ];
                    case 1:
                        return r = d.sent(), [
                            4,
                            Se.getUserOrganizations(r)
                        ];
                    case 2:
                        return n = d.sent(), [
                            4,
                            Se.getClaimValue(r, "organizations", "id_token")
                        ];
                    case 3:
                        return o = null !== (c = d.sent()) && void 0 !== c ? c : [], [
                            4,
                            Se.getClaimValue(r, "x-hasura-org-codes", "id_token")
                        ];
                    case 4:
                        return i = null !== (u = d.sent()) && void 0 !== u ? u : [], [
                            4,
                            Se.getClaimValue(r, "x-hasura-organizations", "id_token")
                        ];
                    case 5:
                        return s = null !== (l = d.sent()) && void 0 !== l ? l : [], [
                            2,
                            {
                                orgCodes: Y(Y([], n.orgCodes, !0), i, !0),
                                orgs: Y(Y([], o, !0), s, !0).map(function(e) {
                                    return {
                                        code: null == e ? void 0 : e.id,
                                        name: null == e ? void 0 : e.name
                                    };
                                })
                            }
                        ];
                    case 6:
                        return a = d.sent(), de.isDebugMode && console.debug("getUserOrganization error:", a), [
                            2,
                            null
                        ];
                    case 7:
                        return [
                            2
                        ];
                }
            });
        });
    };
}, ze = function(e, t) {
    return C(T().mark(function r() {
        var n, o;
        return T().wrap(function(r) {
            for(;;)switch(r.prev = r.next){
                case 0:
                    return r.next = 2, Re(e, t);
                case 2:
                    return n = r.sent, de.isDebugMode && console.log("isAuthenticatedFactory: running redirectOnExpiredToken check"), Oe(n), r.next = 7, Ne(e, t)();
                case 7:
                    return o = r.sent, r.abrupt("return", n && Boolean(o));
                case 9:
                case "end":
                    return r.stop();
            }
        }, r);
    }));
}, Fe = function(e, t) {
    return C(T().mark(function r() {
        return T().wrap(function(r) {
            for(;;)switch(r.prev = r.next){
                case 0:
                    return r.next = 2, _e(e, t);
                case 2:
                    return r.next = 4, r.sent.getSessionItem("access_token");
                case 4:
                    return r.abrupt("return", r.sent);
                case 5:
                case "end":
                    return r.stop();
            }
        }, r);
    }));
}, Ge = function(e, t) {
    return C(T().mark(function r() {
        return T().wrap(function(r) {
            for(;;)switch(r.prev = r.next){
                case 0:
                    return r.next = 2, _e(e, t);
                case 2:
                    return r.next = 4, r.sent.getSessionItem("id_token");
                case 4:
                    return r.abrupt("return", r.sent);
                case 5:
                case "end":
                    return r.stop();
            }
        }, r);
    }));
}, He = function(e, t) {
    return C(T().mark(function r() {
        var n, o;
        return T().wrap(function(r) {
            for(;;)switch(r.prev = r.next){
                case 0:
                    return r.prev = 0, r.t0 = Se, r.next = 4, _e(e, t);
                case 4:
                    return r.t1 = r.sent, r.next = 7, r.t0.getClaimValue.call(r.t0, r.t1, "roles");
                case 7:
                    if (n = r.sent) {
                        r.next = 17;
                        break;
                    }
                    return r.t2 = Se, r.next = 12, _e(e, t);
                case 12:
                    return r.t3 = r.sent, r.next = 15, r.t2.getClaimValue.call(r.t2, r.t3, "x-hasura-roles");
                case 15:
                    return o = r.sent, r.abrupt("return", o);
                case 17:
                    return r.abrupt("return", n);
                case 20:
                    return r.prev = 20, r.t4 = r.catch(0), de.isDebugMode && console.error(r.t4), r.abrupt("return", null);
                case 24:
                case "end":
                    return r.stop();
            }
        }, r, null, [
            [
                0,
                20
            ]
        ]);
    }));
}, qe = function(e, t) {
    return function() {
        var r = C(T().mark(function r(n, o) {
            var i;
            return T().wrap(function(r) {
                for(;;)switch(r.prev = r.next){
                    case 0:
                        return r.prev = 0, r.t0 = Se, r.next = 4, _e(e, t);
                    case 4:
                        return r.t1 = r.sent, r.t2 = n, r.t3 = o, r.next = 9, r.t0.getClaim.call(r.t0, r.t1, r.t2, r.t3);
                    case 9:
                        return i = r.sent, r.abrupt("return", i);
                    case 13:
                        return r.prev = 13, r.t4 = r.catch(0), de.isDebugMode && console.error(r.t4), r.abrupt("return", null);
                    case 17:
                    case "end":
                        return r.stop();
                }
            }, r, null, [
                [
                    0,
                    13
                ]
            ]);
        }));
        return function(e, t) {
            return r.apply(this, arguments);
        };
    }();
};
function Ve(e, t) {
    var r = this;
    return {
        refreshTokens: function() {
            return X(r, void 0, void 0, function() {
                var r, n, o;
                return $(this, function(i) {
                    switch(i.label){
                        case 0:
                            return i.trys.push([
                                0,
                                3,
                                ,
                                4
                            ]), n = (r = Se).refreshTokens, [
                                4,
                                _e(e, t)
                            ];
                        case 1:
                            return [
                                4,
                                n.apply(r, [
                                    i.sent()
                                ])
                            ];
                        case 2:
                            return [
                                2,
                                i.sent()
                            ];
                        case 3:
                            return o = i.sent(), de.isDebugMode && console.error(o), [
                                2,
                                null
                            ];
                        case 4:
                            return [
                                2
                            ];
                    }
                });
            });
        },
        getAccessToken: Le(e, t),
        getBooleanFlag: function() {
            var e = C(T().mark(function e(t, r) {
                var n;
                return T().wrap(function(e) {
                    for(;;)switch(e.prev = e.next){
                        case 0:
                            return e.prev = 0, e.next = 3, Ue()(t, r, "b");
                        case 3:
                            return n = e.sent, e.abrupt("return", n.value);
                        case 7:
                            return e.prev = 7, e.t0 = e.catch(0), de.isDebugMode && console.error(e.t0), e.abrupt("return", null);
                        case 11:
                        case "end":
                            return e.stop();
                    }
                }, e, null, [
                    [
                        0,
                        7
                    ]
                ]);
            }));
            return function(t, r) {
                return e.apply(this, arguments);
            };
        }(),
        getFlag: Ue(),
        getIdToken: Ie(e, t),
        getIdTokenRaw: Ge(e, t),
        getAccessTokenRaw: Fe(e, t),
        getIntegerFlag: function() {
            var e = C(T().mark(function e(t, r) {
                var n;
                return T().wrap(function(e) {
                    for(;;)switch(e.prev = e.next){
                        case 0:
                            return e.prev = 0, e.next = 3, Ue()(t, r, "i");
                        case 3:
                            return n = e.sent, e.abrupt("return", n.value);
                        case 7:
                            return e.prev = 7, e.t0 = e.catch(0), de.isDebugMode && console.error(e.t0), e.abrupt("return", null);
                        case 11:
                        case "end":
                            return e.stop();
                    }
                }, e, null, [
                    [
                        0,
                        7
                    ]
                ]);
            }));
            return function(t, r) {
                return e.apply(this, arguments);
            };
        }(),
        getOrganization: Pe(e, t),
        getPermission: je(e, t),
        getPermissions: Me(e, t),
        getStringFlag: function() {
            var e = C(T().mark(function e(t, r) {
                var n;
                return T().wrap(function(e) {
                    for(;;)switch(e.prev = e.next){
                        case 0:
                            return e.prev = 0, e.next = 3, Ue()(t, r, "s");
                        case 3:
                            return n = e.sent, e.abrupt("return", n.value);
                        case 7:
                            return e.prev = 7, e.t0 = e.catch(0), de.isDebugMode && console.error(e.t0), e.abrupt("return", null);
                        case 11:
                        case "end":
                            return e.stop();
                    }
                }, e, null, [
                    [
                        0,
                        7
                    ]
                ]);
            }));
            return function(t, r) {
                return e.apply(this, arguments);
            };
        }(),
        getUser: Ne(e, t),
        getUserOrganizations: Ke(e, t),
        isAuthenticated: ze(e, t),
        getRoles: He(e, t),
        getClaim: qe(e, t)
    };
}
var We = function(e, t) {
    return ye(t, be).map(function(t, r) {
        return {
            name: e + (0 === r ? "" : r),
            value: t,
            options: Z({
                maxAge: ve,
                domain: de.cookieDomain ? de.cookieDomain : void 0
            }, he)
        };
    });
}, Be = function(t, r, n) {
    return X(void 0, void 0, void 0, function() {
        var o, i, s, a, c, u, l, d, p, f, g, v, h, m, b, y, _;
        return $(this, function(k) {
            switch(k.label){
                case 0:
                    return o = t.nextUrl.pathname, i = null == r ? void 0 : r.isReturnToCurrentPage, s = (null == r ? void 0 : r.loginPage) || "".concat(de.apiPath, "/").concat(fe.login), a = "".concat(de.apiPath, "/kinde_callback"), c = "".concat(de.apiPath, "/").concat(fe.register), s == o || a == o || c == o ? [
                        2,
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].next()
                    ] : (u = [
                        "/_next",
                        "/favicon.ico"
                    ], void 0 !== (null == r ? void 0 : r.publicPaths) && Array.isArray(null == r ? void 0 : r.publicPaths) && (u = r.publicPaths), l = i ? "".concat(s, "?post_login_redirect_url=").concat(o) : s, d = u.some(function(e) {
                        return "/" === e ? "/" === o : o.startsWith(e);
                    }), [
                        4,
                        Re(t)
                    ]);
                case 1:
                    return p = k.sent(), [
                        4,
                        De(t)
                    ];
                case 2:
                    return f = k.sent(), p && f || d ? [
                        4,
                        _e(t)
                    ] : (de.isDebugMode && console.log("authMiddleware: no access or id token, redirecting to login"), [
                        2,
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].redirect(new URL(l, (null == r ? void 0 : r.redirectURLBase) || de.redirectURL))
                    ]);
                case 3:
                    if (g = k.sent(), v = null, h = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].next(), !xe(p) && !xe(f)) return [
                        3,
                        7
                    ];
                    de.isDebugMode && console.log("authMiddleware: access token expired, refreshing"), k.label = 4;
                case 4:
                    return k.trys.push([
                        4,
                        6,
                        ,
                        7
                    ]), [
                        4,
                        Se.refreshTokens(g)
                    ];
                case 5:
                    return v = k.sent(), p = v.access_token, f = v.id_token, We("access_token", v.access_token).forEach(function(e) {
                        h.cookies.set(e.name, e.value, e.options);
                    }), We("id_token", v.id_token).forEach(function(e) {
                        h.cookies.set(e.name, e.value, e.options);
                    }), function(e, t) {
                        var r = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$web$2f$spec$2d$extension$2f$cookies$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ResponseCookies"](t.headers), n = new Headers(e.headers), o = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$web$2f$spec$2d$extension$2f$cookies$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RequestCookies"](n);
                        r.getAll().forEach(function(e) {
                            return o.set(e);
                        }), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].next({
                            request: {
                                headers: n
                            }
                        }).headers.forEach(function(e, r) {
                            ("x-middleware-override-headers" === r || r.startsWith("x-middleware-request-")) && t.headers.set(r, e);
                        });
                    }(t, h), de.isDebugMode && console.log("authMiddleware: tokens refreshed"), [
                        3,
                        7
                    ];
                case 6:
                    return k.sent(), de.isDebugMode && console.error("authMiddleware: token refresh failed, redirecting to login"), d ? [
                        3,
                        7
                    ] : [
                        2,
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].redirect(new URL(l, (null == r ? void 0 : r.redirectURLBase) || de.redirectURL))
                    ];
                case 7:
                    if (d) return [
                        2,
                        h
                    ];
                    m = null, b = null;
                    try {
                        m = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(p);
                    } catch (e) {
                        return de.isDebugMode && console.error("authMiddleware: access token decode failed, redirecting to login"), [
                            2,
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].redirect(new URL(l, (null == r ? void 0 : r.redirectURLBase) || de.redirectURL))
                        ];
                    }
                    try {
                        b = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(f);
                    } catch (e) {
                        return de.isDebugMode && console.error("authMiddleware: id token decode failed, redirecting to login"), [
                            2,
                            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].redirect(new URL(l, (null == r ? void 0 : r.redirectURLBase) || de.redirectURL))
                        ];
                    }
                    return (y = !(null == r ? void 0 : r.isAuthorized) || r.isAuthorized({
                        req: t,
                        token: m
                    })) && n ? (de.isDebugMode && console.log("authMiddleware: invoking onSuccess callback"), [
                        4,
                        n({
                            token: m,
                            user: {
                                family_name: b.family_name,
                                given_name: b.given_name,
                                email: b.email,
                                id: b.sub,
                                picture: b.picture
                            }
                        })
                    ]) : [
                        3,
                        9
                    ];
                case 8:
                    return (_ = k.sent()) instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"] ? (de.isDebugMode && console.log("authMiddleware: onSuccess callback returned a response, copying our cookies to it"), h.cookies.getAll().forEach(function(e) {
                        _.cookies.set(e.name, e.value, Z({}, e));
                    }), h.headers.forEach(function(e, t) {
                        _.headers.set(t, e);
                    }), [
                        2,
                        _
                    ]) : (de.isDebugMode && console.log("authMiddleware: onSuccess callback did not return a response, returning our response"), [
                        2,
                        h
                    ]);
                case 9:
                    return y ? (de.isDebugMode && console.log("authMiddleware: customValidationValid is true, returning response"), [
                        2,
                        h
                    ]) : (de.isDebugMode && console.log("authMiddleware: default behaviour, redirecting to login"), [
                        2,
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].redirect(new URL(l, (null == r ? void 0 : r.redirectURLBase) || de.redirectURL))
                    ]);
            }
        });
    });
};
function Je() {
    for(var e = this, t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r];
    if (!t.length || t[0] instanceof Request) return Be.apply(void 0, t);
    if ("function" == typeof t[0]) {
        var n = t[0], o = t[1];
        return function() {
            for(var t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r];
            return X(e, void 0, void 0, function() {
                var e = this;
                return $(this, function(r) {
                    switch(r.label){
                        case 0:
                            return [
                                4,
                                Be(t[0], o, function(r) {
                                    return X(e, [
                                        r
                                    ], void 0, function(e) {
                                        var r = e.token, o = e.user;
                                        return $(this, function(e) {
                                            switch(e.label){
                                                case 0:
                                                    return t[0].kindeAuth = {
                                                        token: r,
                                                        user: o
                                                    }, [
                                                        4,
                                                        n.apply(void 0, t)
                                                    ];
                                                case 1:
                                                    return [
                                                        2,
                                                        e.sent()
                                                    ];
                                            }
                                        });
                                    });
                                })
                            ];
                        case 1:
                            return [
                                2,
                                r.sent()
                            ];
                    }
                });
            });
        };
    }
    var i = t[0];
    return function() {
        for(var t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r];
        return X(e, void 0, void 0, function() {
            return $(this, function(e) {
                switch(e.label){
                    case 0:
                        return [
                            4,
                            Be(t[0], i)
                        ];
                    case 1:
                        return [
                            2,
                            e.sent()
                        ];
                }
            });
        });
    };
}
var Ze = [
    "children",
    "orgCode",
    "postLoginRedirectURL",
    "authUrlParams"
];
function Xe(e) {
    var t = e.children, r = e.orgCode, n = e.postLoginRedirectURL, o = e.authUrlParams, i = W(e, Ze), s = new URLSearchParams, a = {};
    for(var c in null != r && (a.org_code = r), null != n && (a.post_login_redirect_url = n), a = A(A({}, o), a))s.append(c, a[c]);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].createElement("a", G({
        href: "".concat(de.apiPath, "/").concat(fe.register).concat(s ? "?".concat(s.toString()) : "")
    }, i), t);
}
var $e = [
    "children",
    "postLoginRedirectURL",
    "orgCode",
    "authUrlParams"
];
function Ye(e) {
    var t = e.children, r = e.postLoginRedirectURL, n = e.orgCode, o = e.authUrlParams, i = W(e, $e), s = new URLSearchParams, a = {};
    if (null != n && (a.org_code = n), null != r) {
        var c;
        if (null !== (c = r) && void 0 !== c && c.startsWith("/")) {
            var u = ("TURBOPACK compile-time falsy", 0) ? ("TURBOPACK unreachable", undefined) : process.env.KINDE_SITE_URL;
            r = "".concat(u).concat(r);
        }
        a.post_login_redirect_url = r;
    }
    for(var l in a = A(A({}, o), a))s.append(l, a[l]);
    var d = "".concat(de.apiPath, "/").concat(fe.login).concat(s ? "?".concat(s.toString()) : "");
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].createElement("a", G({
        href: d
    }, i), t);
}
var Qe = [
    "children",
    "postLogoutRedirectURL"
];
function et(e) {
    var t = e.children, r = e.postLogoutRedirectURL, n = W(e, Qe);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].createElement("a", G({
        href: "".concat(de.apiPath, "/").concat(fe.logout).concat(r ? "?post_logout_redirect_url=".concat(r) : "")
    }, n), t);
}
var tt = [
    "children",
    "orgName"
];
function rt(e) {
    var t = e.children, r = e.orgName, n = W(e, tt);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].createElement("a", G({
        href: "".concat(de.apiPath, "/").concat(fe.createOrg).concat(r ? "?org_name=".concat(r) : "")
    }, n), t);
}
var nt = function() {
    var e = C(T().mark(function e(t, r) {
        var n, o, i, s, a, E, R, O, L, S, U, D, I, A, P, j, M, C;
        return T().wrap(function(e) {
            for(;;)switch(e.prev = e.next){
                case 0:
                    return n = null, e.next = 3, _e(t, r);
                case 3:
                    return e.sent.removeSessionItem("kinde_api_access_token"), e.next = 7, fetch("".concat(de.issuerURL, "/oauth2/token"), {
                        method: "POST",
                        headers: {
                            "content-type": "application/x-www-form-urlencoded"
                        },
                        body: new URLSearchParams({
                            grant_type: "client_credentials",
                            client_id: de.clientID || "",
                            client_secret: de.clientSecret || "",
                            audience: de.issuerURL + "/api"
                        })
                    });
                case 7:
                    return o = e.sent, e.next = 10, o.json();
                case 10:
                    return n = e.sent.access_token, i = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$runtime$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["Configuration"]({
                        basePath: de.issuerURL,
                        accessToken: n,
                        headers: {
                            Accept: "application/json"
                        }
                    }), s = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$UsersApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["UsersApi"](i), a = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$OAuthApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OAuthApi"](i), E = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$SubscribersApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["SubscribersApi"](i), R = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$OrganizationsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["OrganizationsApi"](i), O = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$ConnectedAppsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ConnectedAppsApi"](i), L = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$FeatureFlagsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["FeatureFlagsApi"](i), S = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$EnvironmentsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["EnvironmentsApi"](i), U = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$PermissionsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["PermissionsApi"](i), D = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$RolesApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["RolesApi"](i), I = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$BusinessApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["BusinessApi"](i), A = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$IndustriesApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["IndustriesApi"](i), P = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$TimezonesApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["TimezonesApi"](i), j = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$ApplicationsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ApplicationsApi"](i), M = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$CallbacksApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["CallbacksApi"](i), C = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$apis$2f$APIsApi$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["APIsApi"](i), e.abrupt("return", {
                        usersApi: s,
                        oauthApi: a,
                        subscribersApi: E,
                        organizationsApi: R,
                        connectedAppsApi: O,
                        featureFlagsApi: L,
                        environmentsApi: S,
                        permissionsApi: U,
                        rolesApi: D,
                        businessApi: I,
                        industriesApi: A,
                        timezonesApi: P,
                        applicationsApi: j,
                        callbacksApi: M,
                        apisApi: C
                    });
                case 28:
                case "end":
                    return e.stop();
            }
        }, e);
    }));
    return function(t, r) {
        return e.apply(this, arguments);
    };
}();
function ot(e) {
    return !!/^[a-zA-Z0-9-_]+$/.test(e);
}
function it(e) {
    return !!("prefetch" === e.get("purpose") || "prefetch" === e.get("x-purpose") || "prefetch" === e.get("x-moz"));
}
var st = function(e) {
    return X(void 0, void 0, void 0, function() {
        return $(this, function(t) {
            switch(t.label){
                case 0:
                    return e ? [
                        2,
                        new Headers(e.headers)
                    ] : [
                        3,
                        1
                    ];
                case 1:
                    return t.trys.push([
                        1,
                        4,
                        ,
                        5
                    ]), [
                        4,
                        __turbopack_require__("[project]/node_modules/next/headers.js [app-route] (ecmascript, async loader)")(__turbopack_import__)
                    ];
                case 2:
                    return [
                        4,
                        (0, t.sent().headers)()
                    ];
                case 3:
                    return [
                        2,
                        t.sent()
                    ];
                case 4:
                    throw t.sent(), new Error("Kinde: Failed to read request headers (are you using a Next.js version prior to 13?)");
                case 5:
                    return [
                        2
                    ];
            }
        });
    });
}, at = function() {
    var e = C(T().mark(function e() {
        return T().wrap(function(e) {
            for(;;)switch(e.prev = e.next){
                case 0:
                    return e.abrupt("return", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                        apiPath: de.apiPath,
                        redirectURL: de.clientOptions.redirectURL,
                        postLoginRedirectURL: de.postLoginRedirectURL,
                        issuerURL: de.issuerURL,
                        clientID: de.clientID,
                        clientSecret: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$utilities$2f$validate$2d$client$2d$secret$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["validateClientSecret"])(de.clientSecret) ? "Set correctly" : "Not set correctly",
                        postLogoutRedirectURL: de.postLogoutRedirectURL,
                        audience: de.audience,
                        cookieDomain: de.cookieDomain,
                        logoutRedirectURL: de.clientOptions.logoutRedirectURL
                    }));
                case 1:
                case "end":
                    return e.stop();
            }
        }, e);
    }));
    return function() {
        return e.apply(this, arguments);
    };
}(), ct = function() {
    return z(function e() {
        if (N(this, e), F(this, "clientConfig", {}), F(this, "kindeClient", null), F(this, "url", void 0), F(this, "sessionManager", void 0), F(this, "res", void 0), F(this, "req", void 0), F(this, "searchParams", void 0), this.constructor == e) throw new Error("Abstract classes can't be instantiated.");
    }, [
        {
            key: "redirect",
            value: function(e) {
                throw new Error("Method 'redirect()' must be implemented.");
            }
        },
        {
            key: "json",
            value: function(e, t) {
                throw new Error("Method 'json()' must be implemented.");
            }
        },
        {
            key: "error",
            value: function() {
                throw new Error("Method 'error()' must be implemented.");
            }
        },
        {
            key: "getUrl",
            value: function() {
                throw new Error("Method 'getUrl()' must be implemented.");
            }
        },
        {
            key: "getSearchParam",
            value: function(e) {
                throw new Error("Method 'getSearchParam()' must be implemented.");
            }
        },
        {
            key: "onError",
            value: function() {
                throw new Error("Method 'onError()' must be implemented.");
            }
        }
    ]);
}(), ut = function(e) {
    function r(e, t, n) {
        var o, s, a, c, u, l, d, p, f;
        return N(this, r), (f = U(this, r)).clientConfig = A(A({}, de.clientOptions), {}, {
            framework: "Next.js:App",
            audience: (null == n || null === (o = n.config) || void 0 === o ? void 0 : o.audience) || de.clientOptions.audience,
            authDomain: (null == n || null === (s = n.config) || void 0 === s ? void 0 : s.issuerURL) || de.clientOptions.authDomain,
            clientId: (null == n || null === (a = n.config) || void 0 === a ? void 0 : a.clientId) || de.clientOptions.clientId,
            clientSecret: (null == n || null === (c = n.config) || void 0 === c ? void 0 : c.clientSecret) || de.clientOptions.clientSecret,
            logoutRedirectURL: (null == n || null === (u = n.config) || void 0 === u ? void 0 : u.postLogoutRedirectUrl) || de.clientOptions.logoutRedirectURL,
            redirectURL: null != n && null !== (l = n.config) && void 0 !== l && l.siteUrl ? "".concat(null == n || null === (d = n.config) || void 0 === d ? void 0 : d.siteUrl).concat(de.apiPath, "/kinde_callback") : de.clientOptions.redirectURL,
            siteUrl: de.redirectURL || n.config.siteUrl,
            scope: (null == n || null === (p = n.config) || void 0 === p ? void 0 : p.scope) || de.clientOptions.scope
        }), f.kindeClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$clients$2f$server$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createKindeServerClient"])(de.grantType, f.clientConfig), f.url = new URL(e.url), f.req = e, f.searchParams = e.nextUrl.searchParams, f.onErrorCallback = null == n ? void 0 : n.onError, f;
    }
    return H(r, ct), z(r, [
        {
            key: "createStore",
            value: (n = C(T().mark(function e() {
                return T().wrap(function(e) {
                    for(;;)switch(e.prev = e.next){
                        case 0:
                            return e.t0 = ke, e.next = 3, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["cookies"])();
                        case 3:
                            e.t1 = e.sent, this.sessionManager = (0, e.t0)(e.t1);
                        case 5:
                        case "end":
                            return e.stop();
                    }
                }, e, this);
            })), function() {
                return n.apply(this, arguments);
            })
        },
        {
            key: "redirect",
            value: function(e) {
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].redirect(e);
            }
        },
        {
            key: "getUrl",
            value: function() {
                return this.url;
            }
        },
        {
            key: "json",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    status: 200
                };
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json(e, t);
            }
        },
        {
            key: "error",
            value: function() {
                return Response.error;
            }
        },
        {
            key: "getSearchParam",
            value: function(e) {
                return this.req.nextUrl.searchParams.get(e);
            }
        },
        {
            key: "onError",
            value: function(e) {
                this.onErrorCallback && this.onErrorCallback(e);
            }
        }
    ]);
    "TURBOPACK unreachable";
    var n;
}(), lt = function(e) {
    function t(e, r, n) {
        var o, s, a, c, u, l, d, p;
        return N(this, t), p = U(this, t), e.url.split("/").pop(), p.clientConfig = A(A({}, de.clientOptions), {}, {
            framework: "Next.js:Pages",
            audience: (null == n || null === (o = n.config) || void 0 === o ? void 0 : o.audience) || de.clientOptions.audience,
            authDomain: (null == n || null === (s = n.config) || void 0 === s ? void 0 : s.issuerURL) || de.clientOptions.authDomain,
            clientId: (null == n || null === (a = n.config) || void 0 === a ? void 0 : a.clientId) || de.clientOptions.clientId,
            clientSecret: (null == n || null === (c = n.config) || void 0 === c ? void 0 : c.clientSecret) || de.clientOptions.clientSecret,
            logoutRedirectURL: (null == n || null === (u = n.config) || void 0 === u ? void 0 : u.postLogoutRedirectUrl) || de.clientOptions.logoutRedirectURL,
            redirectURL: null != n && null !== (l = n.config) && void 0 !== l && l.siteUrl ? "".concat(null == n || null === (d = n.config) || void 0 === d ? void 0 : d.siteUrl).concat(de.apiPath, "/kinde_callback") : de.clientOptions.redirectURL,
            siteUrl: de.redirectURL || n.config.siteUrl
        }), p.kindeClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$typescript$2d$sdk$2f$dist$2f$sdk$2f$clients$2f$server$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createKindeServerClient"])(de.grantType, p.clientConfig), p.url = new URL(p.clientConfig.siteUrl + e.url), p.res = r, p.req = e, p.searchParams = p.url.searchParams, p.sessionManager = we(e, r), p;
    }
    return H(t, ct), z(t, [
        {
            key: "redirect",
            value: function(e) {
                return this.res.redirect(e);
            }
        },
        {
            key: "getUrl",
            value: function() {
                return this.url;
            }
        },
        {
            key: "json",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    status: 200
                };
                return this.res.status(t.status).json(e);
            }
        },
        {
            key: "getSearchParam",
            value: function(e) {
                return this.url.searchParams.get(e);
            }
        }
    ]);
}(), dt = F(F(F(F(F(F(F({}, fe.createOrg, function(e) {
    return X(void 0, void 0, void 0, function() {
        var t, r, n, o;
        return $(this, function(i) {
            switch(i.label){
                case 0:
                    if (t = e.getSearchParam("org_name"), r = {
                        org_name: null != t ? t : void 0,
                        is_create_org: !0
                    }, n = e.searchParams.get("state")) {
                        if (!ot(n)) throw new Error("Invalid state supplied");
                        e.sessionManager.setSessionItem("state", n);
                    }
                    return [
                        4,
                        e.kindeClient.createOrg(e.sessionManager, r)
                    ];
                case 1:
                    return o = i.sent(), [
                        2,
                        e.redirect(o.toString())
                    ];
            }
        });
    });
}), fe.register, function(e) {
    return X(void 0, void 0, void 0, function() {
        var t, r, n;
        return $(this, function(o) {
            switch(o.label){
                case 0:
                    return [
                        4,
                        st(e.req)
                    ];
                case 1:
                    return it(o.sent()) ? [
                        2,
                        null
                    ] : [
                        4,
                        e.kindeClient.register(e.sessionManager, {
                            authUrlParams: Object.fromEntries(e.searchParams)
                        })
                    ];
                case 2:
                    if (t = o.sent(), (r = e.getSearchParam("post_login_redirect_url")) && e.sessionManager.setSessionItem("post_login_redirect_url", r), n = e.searchParams.get("state")) {
                        if (!ot(n)) throw new Error("Invalid state supplied");
                        e.sessionManager.setSessionItem("state", n);
                    }
                    return [
                        2,
                        e.redirect(t.toString())
                    ];
            }
        });
    });
}), fe.setup, function(t) {
    return X(void 0, void 0, void 0, function() {
        var r, n, o, i, s, a, c, u, l, d, p, f, g, v, h, m, b, y, _, k, w;
        return $(this, function(x) {
            switch(x.label){
                case 0:
                    return x.trys.push([
                        0,
                        8,
                        ,
                        9
                    ]), [
                        4,
                        Re(t.req)
                    ];
                case 1:
                    return r = x.sent(), [
                        4,
                        De(t.req)
                    ];
                case 2:
                    return n = x.sent(), r && n ? [
                        4,
                        _e(t.req)
                    ] : (de.isDebugMode && console.log("setup: no access or id token - returning NOT_LOGGED_IN"), [
                        2,
                        t.json({
                            message: "NOT_LOGGED_IN"
                        }, {
                            status: 200
                        })
                    ]);
                case 3:
                    if (o = x.sent(), !xe(r) && !xe(n)) return [
                        3,
                        7
                    ];
                    de.isDebugMode && console.log("setup: access or id token expired - attempting refresh"), x.label = 4;
                case 4:
                    return x.trys.push([
                        4,
                        6,
                        ,
                        7
                    ]), [
                        4,
                        Se.refreshTokens(o)
                    ];
                case 5:
                    return i = x.sent(), r = i.access_token, n = i.id_token, [
                        3,
                        7
                    ];
                case 6:
                    return s = x.sent(), de.isDebugMode && console.error("setup: refresh tokens failed - returning error"), [
                        2,
                        t.json({
                            message: "REFRESH_FAILED",
                            error: s
                        }, {
                            status: 500
                        })
                    ];
                case 7:
                    a = null, c = null;
                    try {
                        a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(r);
                    } catch (e) {
                        return de.isDebugMode && console.error("setup: access token decode failed, redirecting to login"), [
                            2,
                            t.json({
                                message: "ACCESS_TOKEN_DECODE_FAILED",
                                error: e
                            }, {
                                status: 500
                            })
                        ];
                    }
                    try {
                        c = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2f$jwt$2d$decoder$2f$dist$2f$jwt$2d$decoder$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jwtDecoder"])(n);
                    } catch (e) {
                        return de.isDebugMode && console.error("setup: id token decode failed, redirecting to login"), [
                            2,
                            t.json({
                                message: "ID_TOKEN_DECODE_FAILED",
                                error: e
                            }, {
                                status: 500
                            })
                        ];
                    }
                    return a && c ? (u = a.permissions, l = a.org_code, d = a.feature_flags, p = c.org_codes, f = a.org_name, g = a.organization_properties, v = c.organizations, a.permissions && c.org_codes ? [
                        2,
                        t.json({
                            accessToken: a,
                            accessTokenEncoded: r,
                            accessTokenRaw: r,
                            idToken: c,
                            idTokenRaw: n,
                            idTokenEncoded: n,
                            user: Ce(c, a),
                            permissions: {
                                permissions: u,
                                orgCode: l
                            },
                            needsRefresh: !1,
                            message: "OK",
                            organization: {
                                orgCode: l,
                                orgName: f,
                                properties: {
                                    city: null === (m = null == g ? void 0 : g.kp_org_city) || void 0 === m ? void 0 : m.v,
                                    industry: null === (b = null == g ? void 0 : g.kp_org_industry) || void 0 === b ? void 0 : b.v,
                                    postcode: null === (y = null == g ? void 0 : g.kp_org_postcode) || void 0 === y ? void 0 : y.v,
                                    state_region: null === (_ = null == g ? void 0 : g.kp_org_state_region) || void 0 === _ ? void 0 : _.v,
                                    street_address: null === (k = null == g ? void 0 : g.kp_org_street_address) || void 0 === k ? void 0 : k.v,
                                    street_address_2: null === (w = null == g ? void 0 : g.kp_org_street_address_2) || void 0 === w ? void 0 : w.v
                                }
                            },
                            featureFlags: d,
                            userOrganizations: {
                                orgCodes: p,
                                orgs: null == v ? void 0 : v.map(function(e) {
                                    return {
                                        code: null == e ? void 0 : e.id,
                                        name: null == e ? void 0 : e.name
                                    };
                                })
                            }
                        })
                    ] : [
                        2,
                        t.json({
                            message: "MISSING_REQUIRED_CLAIMS"
                        }, {
                            status: 500
                        })
                    ]) : [
                        2,
                        t.json({
                            message: "TOKENS_MISSING",
                            error: "No access or id token"
                        }, {
                            status: 500
                        })
                    ];
                case 8:
                    return h = x.sent(), de.isDebugMode && console.error("setup: failed, error: ", h), [
                        2,
                        t.json({
                            message: "SETUP_FAILED",
                            error: h
                        }, {
                            status: 500
                        })
                    ];
                case 9:
                    return [
                        2
                    ];
            }
        });
    });
}), fe.login, function(e) {
    return X(void 0, void 0, void 0, function() {
        var t, r, n;
        return $(this, function(o) {
            switch(o.label){
                case 0:
                    return [
                        4,
                        st(e.req)
                    ];
                case 1:
                    if (it(o.sent())) return [
                        2,
                        null
                    ];
                    if (t = e.searchParams.get("state")) {
                        if (!ot(t)) throw new Error("Invalid state supplied");
                        e.sessionManager.setSessionItem("state", t);
                    }
                    return [
                        4,
                        e.kindeClient.login(e.sessionManager, {
                            authUrlParams: Object.fromEntries(e.searchParams)
                        })
                    ];
                case 2:
                    return r = o.sent(), (n = e.getSearchParam("post_login_redirect_url")) && e.sessionManager.setSessionItem("post_login_redirect_url", n), [
                        2,
                        e.redirect(r.toString())
                    ];
            }
        });
    });
}), fe.logout, function(e) {
    return X(void 0, void 0, void 0, function() {
        var t, r;
        return $(this, function(n) {
            switch(n.label){
                case 0:
                    return [
                        4,
                        st(e.req)
                    ];
                case 1:
                    return it(n.sent()) ? [
                        2,
                        null
                    ] : [
                        4,
                        e.kindeClient.logout(e.sessionManager)
                    ];
                case 2:
                    return t = n.sent(), (null == (r = e.getSearchParam("post_logout_redirect_url") || de.postLogoutRedirectURL) ? void 0 : r.startsWith("/")) && (r = de.redirectURL + r), r && t.searchParams.set("redirect", r), [
                        2,
                        e.redirect(t.toString())
                    ];
            }
        });
    });
}), fe.health, at), "kinde_callback", function(e) {
    return X(void 0, void 0, void 0, function() {
        var t, r, n, o, i, s, a, c;
        return $(this, function(u) {
            switch(u.label){
                case 0:
                    return [
                        4,
                        e.sessionManager.getSessionItem("post_login_redirect_url")
                    ];
                case 1:
                    return (t = u.sent()) ? [
                        4,
                        e.sessionManager.removeSessionItem("post_login_redirect_url")
                    ] : [
                        3,
                        3
                    ];
                case 2:
                    u.sent(), u.label = 3;
                case 3:
                    r = t || de.postLoginRedirectURL, u.label = 4;
                case 4:
                    return u.trys.push([
                        4,
                        6,
                        ,
                        7
                    ]), [
                        4,
                        e.kindeClient.handleRedirectToApp(e.sessionManager, e.getUrl())
                    ];
                case 5:
                    return u.sent(), [
                        3,
                        7
                    ];
                case 6:
                    return n = u.sent(), de.isDebugMode && console.error("callback", n), n.message.includes("Expected: State not found") ? [
                        2,
                        e.json({
                            error: "Error: State not found.\nTo resolve this error please visit our docs https://docs.kinde.com/developer-tools/sdks/backend/nextjs-sdk/#state-not-found-error" + n.message
                        }, {
                            status: 500
                        })
                    ] : [
                        2,
                        e.json({
                            error: n.message
                        }, {
                            status: 500
                        })
                    ];
                case 7:
                    return o = function() {
                        if (!de.postLoginAllowedURLRegex) return null;
                        try {
                            return new RegExp(de.postLoginAllowedURLRegex);
                        } catch (e) {
                            throw console.error("Invalid postLoginAllowedURLRegex pattern:", e), new Error("Invalid postLoginAllowedURLRegex pattern: ".concat(e.message));
                        }
                    }(), i = function(e) {
                        return !de.postLoginAllowedURLRegex || o.test(e);
                    }, [
                        4,
                        e.sessionManager.getSessionItem("state")
                    ];
                case 8:
                    return s = u.sent(), [
                        4,
                        e.sessionManager.removeSessionItem("state")
                    ];
                case 9:
                    return u.sent(), r && i(r) ? (a = new URL("".concat(r.startsWith("http") ? "" : e.clientConfig.siteUrl), r), s && a.searchParams.set("state", s), [
                        2,
                        e.redirect(a.toString())
                    ]) : (c = new URL(e.clientConfig.siteUrl), s && c.searchParams.set("state", s), [
                        2,
                        e.redirect(c.toString())
                    ]);
            }
        });
    });
}), pt = function(e) {
    return dt[e];
}, ft = function(e, t, r) {
    var n, o, i;
    if (!de.clientOptions.authDomain) throw new Error("The environment variable 'KINDE_ISSUER_URL' is required. Set it in your .env file");
    if (!(de.clientOptions.clientId || null != r && null !== (n = r.config) && void 0 !== n && n.clientId)) throw new Error("env variable 'KINDE_CLIENT_ID' is not set and not passed in options");
    if (!(de.clientOptions.clientSecret || null != r && null !== (o = r.config) && void 0 !== o && o.clientSecret)) throw new Error("env variable 'KINDE_CLIENT_SECRET' is not set and not passed in options");
    if (!(de.clientOptions.redirectURL || null != r && null !== (i = r.config) && void 0 !== i && i.siteUrl)) throw new Error("env variable 'KINDE_SITE_URL' is not set and not passed in options");
    return "object" == j(e) && "string" == typeof t ? gt(e, {
        params: {
            kindeAuth: t
        }
    }, r) : function() {
        var t = C(T().mark(function t(n, o) {
            return T().wrap(function(t) {
                for(;;)switch(t.prev = t.next){
                    case 0:
                        return t.abrupt("return", ge(n) ? gt(n, o, r) : vt(n, o, e));
                    case 1:
                    case "end":
                        return t.stop();
                }
            }, t);
        }));
        return function(e, r) {
            return t.apply(this, arguments);
        };
    }();
}, gt = function() {
    var e = C(T().mark(function e(t, r, n) {
        var o, i, s, a;
        return T().wrap(function(e) {
            for(;;)switch(e.prev = e.next){
                case 0:
                    return o = r.params, e.next = 3, o;
                case 3:
                    if (i = e.sent.kindeAuth, i = Array.isArray(i) ? i[0] : i, !(s = pt(i))) {
                        e.next = 15;
                        break;
                    }
                    return a = new ut(t, r, n), e.next = 10, a.createStore();
                case 10:
                    return e.next = 12, s(a);
                case 12:
                    return e.abrupt("return", e.sent);
                case 15:
                    return e.abrupt("return", new Response("This page could not be found.", {
                        status: 404
                    }));
                case 16:
                case "end":
                    return e.stop();
            }
        }, e);
    }));
    return function(t, r, n) {
        return e.apply(this, arguments);
    };
}(), vt = function() {
    var e = C(T().mark(function e(t, r, n) {
        var o, i;
        return T().wrap(function(e) {
            for(;;)switch(e.prev = e.next){
                case 0:
                    if (o = t.query.kindeAuth, o = Array.isArray(o) ? o[0] : o) {
                        e.next = 4;
                        break;
                    }
                    throw Error("Please check your Kinde setup");
                case 4:
                    if (!(i = pt(o))) {
                        e.next = 11;
                        break;
                    }
                    return e.next = 8, i(new lt(t, r, n));
                case 8:
                    e.t0 = e.sent, e.next = 12;
                    break;
                case 11:
                    e.t0 = r.status(404).end();
                case 12:
                    return e.abrupt("return", e.t0);
                case 13:
                case "end":
                    return e.stop();
            }
        }, e);
    }));
    return function(t, r, n) {
        return e.apply(this, arguments);
    };
}(), ht = function(e) {
    var t = e.postLoginRedirectURL, r = e.orgCode;
    if (t && "string" != typeof t) throw new TypeError("postLoginRedirectURL must be a string");
    if (r && "string" != typeof r) throw new TypeError("orgCode must be a string");
    var n = new URLSearchParams, i = {}, s = process.env.KINDE_SITE_URL;
    if (!s) throw new Error("KINDE_SITE_URL environment variable is not configured");
    if (null != r && (i.org_code = r), null != t) {
        var a;
        null !== (a = t) && void 0 !== a && a.startsWith("/") && (t = "".concat(s).concat(t));
        try {
            new URL(t);
        } catch (e) {
            throw new Error("Invalid postLoginRedirectURL: ".concat(t));
        }
        i.post_login_redirect_url = t;
    }
    for(var c in i)n.append(c, i[c]);
    var u = new URL("".concat(s, "/api/auth/").concat(fe.login, "?").concat(n.toString()));
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["redirect"])(u.toString());
}, mt = function(e) {
    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    return function() {
        var r = C(T().mark(function r(n) {
            var o, i, s, a, c, u, l, d;
            return T().wrap(function(r) {
                for(;;)switch(r.prev = r.next){
                    case 0:
                        return o = Ve(), i = o.isAuthenticated, s = o.getPermission, a = o.getPermissions, c = o.getRoles, r.next = 3, i();
                    case 3:
                        if (r.sent || ht(t), !t.roles) {
                            r.next = 12;
                            break;
                        }
                        return r.next = 8, c();
                    case 8:
                        (u = r.sent) || ht(t), l = new Set(u.map(function(e) {
                            return e.name;
                        })), t.roles.some(function(e) {
                            return l.has(e);
                        }) || ht(t);
                    case 12:
                        if ("string" != typeof t.permissions) {
                            r.next = 17;
                            break;
                        }
                        return r.next = 15, s(t.permissions);
                    case 15:
                        r.sent || ht(t);
                    case 17:
                        if (!Array.isArray(t.permissions)) {
                            r.next = 22;
                            break;
                        }
                        return r.next = 20, a();
                    case 20:
                        d = r.sent, t.permissions.some(function(e) {
                            return d.includes(e);
                        }) || ht(t);
                    case 22:
                        return r.abrupt("return", e(n));
                    case 23:
                    case "end":
                        return r.stop();
                }
            }, r);
        }));
        return function(e) {
            return r.apply(this, arguments);
        };
    }();
}, bt = function(e, t) {
    return function() {
        var r = C(T().mark(function r(n) {
            var o, i, s, a, c, u, l, d;
            return T().wrap(function(r) {
                for(;;)switch(r.prev = r.next){
                    case 0:
                        return o = Ve(), i = o.isAuthenticated, s = o.getPermission, a = o.getPermissions, c = o.getRoles, r.prev = 1, r.next = 4, i();
                    case 4:
                        if (r.sent) {
                            r.next = 7;
                            break;
                        }
                        return r.abrupt("return", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                            statusCode: 401,
                            message: "Unauthorized"
                        }));
                    case 7:
                        if (!t.roles) {
                            r.next = 16;
                            break;
                        }
                        return r.next = 10, c();
                    case 10:
                        if (u = r.sent) {
                            r.next = 13;
                            break;
                        }
                        return r.abrupt("return", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                            statusCode: 401,
                            message: "Unauthorized"
                        }));
                    case 13:
                        if (l = new Set(u.map(function(e) {
                            return e.name;
                        })), t.roles.some(function(e) {
                            return l.has(e);
                        })) {
                            r.next = 16;
                            break;
                        }
                        return r.abrupt("return", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                            statusCode: 401,
                            message: "Unauthorized"
                        }));
                    case 16:
                        if ("string" != typeof t.permissions) {
                            r.next = 22;
                            break;
                        }
                        return r.next = 19, s(t.permissions);
                    case 19:
                        if (r.sent) {
                            r.next = 22;
                            break;
                        }
                        return r.abrupt("return", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                            statusCode: 403,
                            message: "Forbidden"
                        }));
                    case 22:
                        if (!Array.isArray(t.permissions)) {
                            r.next = 28;
                            break;
                        }
                        return r.next = 25, a();
                    case 25:
                        if (d = r.sent, t.permissions.some(function(e) {
                            return d.includes(e);
                        })) {
                            r.next = 28;
                            break;
                        }
                        return r.abrupt("return", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                            statusCode: 403,
                            message: "Forbidden"
                        }));
                    case 28:
                        r.next = 34;
                        break;
                    case 30:
                        return r.prev = 30, r.t0 = r.catch(1), console.error("Error protecting page", r.t0), r.abrupt("return", null);
                    case 34:
                        return r.abrupt("return", e(n));
                    case 35:
                    case "end":
                        return r.stop();
                }
            }, r, null, [
                [
                    1,
                    30
                ]
            ]);
        }));
        return function(e) {
            return r.apply(this, arguments);
        };
    }();
};
;
 //# sourceMappingURL=index.js.map
}}),

};

//# sourceMappingURL=node_modules_%40kinde-oss_kinde-auth-nextjs_dist_server_index_ecf574.js.map